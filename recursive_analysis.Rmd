---
title: "regen and plot analysis"
author: "Peter Smallidge"
date: "5/4/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

###Initialize Libraries
```{r, include=FALSE}

library(tidyverse)
library(skimr)        ## install.packages("skimr")
library(readxl)
library(readr)
#
# ALT plus hypen = <- (within chunk)
# ctrl plus shift plus m = %>% 
# ctrl + ALT + I = insert chunk
# ALT + - = insert assignment operator
# filter rows, select columns
# RMD comment = <!-- comment -->
# 
# 

```


### read data from csv file, check variables and data structure

```{r, data input}

plot_tidy <- read_csv("tidy_plot_2019.csv") %>% 
  mutate_at(vars(harvest, year, point, location, plot_attrib, attrib_val),
            list(factor))


plot_untidy <- read_csv("untidy_plot_2019.csv") %>% 
  mutate_at(vars(harvest, year, point, location, 
                 disturb, slash, fern, herb, 
                 low_cov, inv_cov, mid_cov, upper_cov, vine_cov,
                  comm_stock, pre_comm_stock, diver_stock,
                  pre_diver_stock,  interf_woody_stock, fern_stock, all_intf,
                 winner_stock),
            list(factor)) %>% 
  replace_na(list("comm_stock" = "no"))

  
# NOTE - plot_untidy...
# pre_comm_stock and pre_diver_stock have 3 levels. Use this code to lump to 2.
# 
#   mutate(pre_comm_stock = fct_recode(pre_comm_stock,
#                              "stocked" = "pre_comm_deer_1",
#                              "stocked" = "pre_comm_deer_2")) 
#                              
#                              pre_diver_deer_1
#                              pre_diver_deer_2




regen_tidy <- read_csv("tidy_regen_point_2019.csv")   %>% 
  mutate_at(vars(harvest, location, point, spp, origin, year, type, size),
             list(factor))
  
  


```


